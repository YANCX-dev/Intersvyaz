# README

## Задачи проекта

- [x] Подключение фреймворка и расширений произведено через autoloader композера (composer).
- [x] Проект разворачивается через Docker файл.
- [x] В качестве базы данных используется SQLite.
- [x] Изменения в тариф должны вноситься посредством AJAX.
- [x] Создана страница для просмотра и редактирования тарифов.
- [x] Возможность загрузить файл изображения тарифа (логотип).
- [x] Перед сохранением логотипа осуществляется уменьшение качества картинки для уменьшения объема файла.
- [x] Файл логотипа может быть только в формате JPG или PNG (проводится валидация перед сохранением).
- [x] Возможность экспортировать тарифы в CSV для дальнейшей передачи.
- [x] Возможность загрузить тарифы из CSV файла с уникальностью по названию тарифа.
- [x] Возможность выгрузить список тарифов в PDF файл.

## Развертывание проекта

### 1. Установка зависимостей через Composer

Для начала, убедитесь, что у вас установлен [Composer](https://getcomposer.org/download/).

В корневой директории проекта выполните команду:

```bash
docker-compose exec <container_name> composer install --ignore-platform-reqs
```

Эта команда установит все необходимые зависимости, указанные в файле `composer.json`.

### 2. Разворачивание Docker контейнера

Проект использует Docker для удобного развертывания.

#### Шаги для запуска:

1. В корне проекта необходимо запустить команду:

```bash
docker-compose up -d
```

После выполнения этой команды контейнер будет запущен в фоновом режиме. Ваш проект будет доступен по адресу
`http://localhost:8000`.

### 3. Запуск скрипта для создания таблицы в базе данных

Для создания необходимой таблицы в базе данных выполните следующий скрипт:

```bash
php scripts/setup.php
```

Этот скрипт создаст таблицы в базе данных SQLite, используемой в проекте.

## Инструкции по использованию

- **Страница редактирования тарифов**: Вы можете редактировать тарифы через страницу, доступную по адресу
  `/tariffs/edit`. На этой странице вы можете изменять данные тарифа, а также загружать логотип.
- **Импорт и экспорт тарифов**:
    - Экспорт тарифов в CSV доступен через интерфейс на странице `/csvtools` (`Загрузка/Выгрузка тарифов` в шапке).
    - Для загрузки тарифов из CSV используйте функцию импорта на той же странице.
- **Выгрузка списка тарифов в PDF** доступна через соответствующую кнопку на странице.

## Ограничения

- Логотипы могут быть только в форматах JPG или PNG.
- При загрузке логотипа будет автоматически произведено уменьшение качества для сокращения размера файла.

### Проблемы с запуском проекта

Если проект не запускается после выполнения команды `docker-compose up -d`, попробуйте следующие шаги:

1. **Если Composer не устанавливается**: Добавьте флаги `--ignore-platform-reqs`
2. **Проверьте и установите права на файлы и каталоги**
3. **Проверьте порты**